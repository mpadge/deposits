---
title: "deposits"
output:
  md_document:
    variant: gfm

  rmarkdown::html_vignette:
    self_contained: no
---

# deposits

<!-- badges: start -->
[![R build status](https://github.com/ropenscilabs/deposits/workflows/R-CMD-check/badge.svg)](https://github.com/ropenscilabs/deposits/actions?query=workflow%3AR-CMD-check)
[![codecov](https://codecov.io/gh/ropenscilabs/deposits/branch/main/graph/badge.svg)](https://codecov.io/gh/ropenscilabs/deposits)
[![Project Status: Concept](https://www.repostatus.org/badges/latest/concept.svg)](https://www.repostatus.org/#concept)
<!-- badges: end -->


The `deposits` package aims to be a universal client for depositing research
data anywhere. It is not currently in a useable state.

## Installation

The package can be installed with the following command:

```{r install, eval = FALSE}
remotes::install_github ("mpadge/deposits")
```

and then loaded for use with:

```{r}
library (deposits)
```

## Data Repositories

The list of data repositories currently supported is accessible by the
`deposits_services()` function:

```{r services}
deposits_services ()
```


## API Keys

All services require API ("Application Programming Interface") keys to be
stored as local environment variables the names of which must include the names
of the respective services, as defined by the "name" column returned from
`deposits_service()`, as shown above. This can be done as in the following example:

```{r key, eval = FALSE}
Sys.setenv ("ZENODO_TOKEN" = "<my-token")
```

Alternatively, these tokens can be stored in a `~/.Renviron` file, where they
will be automatically loaded into every R session.

## Functionality

The only functionality currently provided is authentication of the locally
stored token, demonstrated by the following code:

```{r pings, eval = FALSE}
services <- deposits_services ()
for (s in services$name) {
    cli <- depositsClient$new(
      name = s
    )
    message (s, ": ", cli$ping()
}
```
```{r pings-output, echo = FALSE}
message ("zenodo: TRUE")
message ("figshare: TRUE")
```
